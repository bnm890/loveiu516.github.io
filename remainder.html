<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>算餘數</title>
    <link rel="icon" href="http://i.imgur.com/7cMwiaN.png">
    <!-- jquery -->
    <script src="http://loveiu516.github.io/jquery.min.js"></script> 
    <!-- bootstrap -->
    <link href="http://loveiu516.github.io/bootstrap.min.css" rel="stylesheet">
    <!-- react -->
    <script src="http://loveiu516.github.io/react.min.js"></script>
    <script src="http://loveiu516.github.io/react-dom.min.js"></script>
    <!-- babel -->
    <script src="http://loveiu516.github.io/browser.min.js"></script>
    <!-- react-bootstrap -->
    <script src="http://loveiu516.github.io/react-bootstrap.min.js"></script>
  </head>

  <body>
    <div id = "main"></div>
    <script type="text/babel">
    var Grid=ReactBootstrap.Grid;
    var Row=ReactBootstrap.Row;
    var Col=ReactBootstrap.Col;

    var ButtonsInstance = ReactBootstrap.ButtonsInstance;
    var ButtonToolbar = ReactBootstrap.ButtonToolbar;
    var ButtonInput = ReactBootstrap.ButtonInput;
    var Button = ReactBootstrap.Button;
 
    var Label = ReactBootstrap.Label;
    var Input = ReactBootstrap.Input;
    var Tabs = ReactBootstrap.Tabs;
    var Tab = ReactBootstrap.Tab;
    var Image = ReactBootstrap.Image;
    var Glyphicon=ReactBootstrap.Glyphicon;
    var Jumbotron=ReactBootstrap.Jumbotron;
    var Pager=ReactBootstrap.Pager;
    var Panel=ReactBootstrap.Panel;

    var a;
    var b;
    var ans;

      var QueryResult = React.createClass ({
        render() {
          return (
            <Row className="well">
            <h1><Label bsStyle="success" >餘數 : <a href={this.props.ans} target="_blank">{this.props.ans}</a></Label></h1>
            </Row>
          );
        }
      });

      var Input1 = React.createClass ({
          getresult() {
          a = this.refs.a.getValue();
          b = this.refs.b.getValue();
          var jsonURL = "https://script.google.com/macros/s/AKfycbywyh9qKyycmeG_Ylbe4v7tYVITxN8svpj3XR4OIXp2Q-aa6k8/exec?a="+a+"&b="+b;
            $.ajax({
            url: jsonURL,
            global: false,
            type: 'GET',
            dataType: 'html',
            async: true,
              success: function(html) {
                ans = html;
                ReactDOM.render(<QueryResult ans={ans} />,result);
                }
              
          });

      },

        render() {
          return (
          	<div>
            <Input type="text" bsSize="large" ref="a" onChange={this.getresult} addonBefore="被除數" placeholder="被除數" block></Input>
            <Input type="text" bsSize="large" ref="b" onChange={this.getresult} addonBefore="除數" placeholder="除數" block></Input>
            </div>
          );
        }

      });

    var ButtonInput = React.createClass({
      



      render() {
        return (
        <Grid>
        <Row className="well">
              <Pager>
              <Panel header=<h0>測試可計算到308位數</h0> bsStyle="info">
              <div id = "input1"></div>
              </Panel>
              </Pager>


          </Row>

            <Row>
            <Col xs={12} md={12}>
              <div id = "result"></div>
            </Col>

        </Row>
        </Grid>
        );
      }
    });
    ReactDOM.render(<ButtonInput />, main);
    ReactDOM.render(<Input1 />, input1);
    </script>
  </body>
</html>
